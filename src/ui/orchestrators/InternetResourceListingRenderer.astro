---
import type { CollectionEntry } from "astro:content";

import type { InternetResourceCollectionKey } from "@content/collections";

import AppListing from "@ui/composites/AppListing.astro";
import BasicInternetResourceListing from "@ui/composites/BasicInternetResourceListing.astro";
import WebsiteListing from "@ui/composites/WebsiteListing.astro";

interface Props {
  entry: CollectionEntry<InternetResourceCollectionKey>;
}

const { entry } = Astro.props;
---

<Fragment>
  {
    () => {
      // TODO - atm we're using the same component for all types but each should have its own over time
      switch (entry.collection) {
        case "articles":
        case "blogs":
        case "booklets":
        case "books":
        // case "brochures":
        // case "community":
        case "courses":
        case "forums":
        // case "memorials":
        case "peerSupports":
        case "podcastEpisodes":
        case "podcasts":
        case "stories":
        case "supportGroups":
        case "therapyResources":
        case "videos":
          // case "webinars":
          return <BasicInternetResourceListing entry={entry} />;
        case "apps":
          return <AppListing entry={entry} />;
        case "websites":
          return <WebsiteListing entry={entry} />;
        default:
          const _exhaustiveCheck: never = entry;
          throw new Error(
            `[InternetResourceListingRenderer] Not all resource types have a renderer`
          );
      }
    }
  }
</Fragment>

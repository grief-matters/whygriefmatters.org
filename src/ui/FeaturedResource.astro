---
import type { CategoryPageFeaturedResource } from "@model/categoryPage";

import TitleLink from "./primitives/TitleLink.astro";
import Subtitle from "./primitives/Subtitle.astro";
import Card from "./primitives/Card.astro";
import CMSImage from "./primitives/CMSImage.astro";
import TextBlock from "./typography/TextBlock.astro";
import SourceLink from "./SourceLink.astro";

interface Props {
  featuredResource: CategoryPageFeaturedResource;
}

const props = Astro.props;
---

<Card fullHeight hoverable resourceType={props.featuredResource.type}>
  <CMSImage image={props.featuredResource.image} />
  <div class="p-3">
    <TitleLink
      label={props.featuredResource.title}
      href={props.featuredResource.resourceUrl}
    />
    <Subtitle class="mt-1 mb-2">
      {`From `}
      <SourceLink
        source={props.featuredResource.sourceWebsite ??
          props.featuredResource.resourceUrl}
      />
    </Subtitle>
    {
      props.featuredResource.description && (
        <TextBlock>{props.featuredResource.description}</TextBlock>
      )
    }
  </div>
</Card>

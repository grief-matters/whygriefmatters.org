---
import type { CollectionEntry } from "astro:content";

import type { InternetResourceCollectionKey } from "@content/collections";
import { assertNever } from "@ui/utils/assertNever";
import AppListing from "./AppListing.astro";
import BasicInternetResourceListing from "./BasicInternetResourceListing.astro";
import WebsiteListing from "./WebsiteListing.astro";

interface Props {
  entry: CollectionEntry<InternetResourceCollectionKey>;
}

const { entry } = Astro.props;
---

<Fragment>
  {
    () => {
      // TODO - atm we're using the same component for all types but each should have its own over time
      switch (entry.collection) {
        case "articles":
        case "blogs":
        case "books":
        case "communities":
        case "courses":
        case "forums":
        case "memorials":
        case "peerSupports":
        case "podcastEpisodes":
        case "podcasts":
        case "printedMaterials":
        case "stories":
        case "supportGroups":
        case "therapyResources":
        case "videos":
        case "webinars":
          return <BasicInternetResourceListing entry={entry} />;
        case "apps":
          return <AppListing entry={entry} />;
        case "websites":
          return <WebsiteListing entry={entry} />;
        default:
          assertNever(entry);
      }
    }
  }
</Fragment>

---
import type { PageLinks } from "@content/model/contentBlock";

import { gapMap } from "@styles/utils/spacing";
import { assertNever } from "@ui/utils/ts-utils";

import DynamicPageLink from "./DynamicPageLink.astro";

interface Props {
  emphasized?: boolean;
  links: PageLinks["links"];
}

const props = Astro.props;
---

<div class:list={[gapMap[2], "flex flex-wrap justify-center"]}>
  {
    props.links.map((link) => {
      switch (link.contentType) {
        case "categoryPageLink":
          return (
            <DynamicPageLink
              emphasized={props.emphasized}
              linkType={link.contentType}
              label={link.label}
              categoryRef={link.category}
            />
          );
        case "resourcePageLink":
          return (
            <DynamicPageLink
              emphasized={props.emphasized}
              linkType={link.contentType}
              label={link.label}
              categoryRef={link.category ?? undefined}
              populationRef={link.population ?? undefined}
              resourceTypes={link.resourceTypes ?? undefined}
            />
          );
        case "relativeLink":
          return;
        default:
          assertNever(link);
      }
    })
  }
</div>

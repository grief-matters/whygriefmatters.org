---
import type { HTMLTag, Polymorphic } from "astro/types";

import {
  marginBottomMap,
  spaceYMap,
  type SpaceSetting,
} from "@styles/utils/spacing";

type Props<Tag extends HTMLTag = "div"> = Polymorphic<{ as: Tag }> & {
  spacing?: SpaceSetting;
  marginBottom?: SpaceSetting;
  reverse?: boolean;
  divide?: boolean;
};

const {
  as: Tag = "div",
  spacing = 1,
  marginBottom,
  reverse,
  divide,
  ...attrs
} = Astro.props;
---

<Tag
  class:list={[
    spaceYMap[spacing ?? 1],
    marginBottom && marginBottomMap[marginBottom],
    reverse && "flex flex-col-reverse",
    divide && "divide-y",
  ]}
  {...attrs}
>
  <slot />
</Tag>
